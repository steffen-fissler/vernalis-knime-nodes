<?xml version="1.0" encoding="utf-8"?>
<!--
  Copyright (c) 2016, Vernalis (R&D) Ltd, based on earlier PDB Connector work.
  
  Copyright (c) 2012, 2014 Vernalis (R&D) Ltd and Enspiral Discovery Limited
  
   This program is free software; you can redistribute it and/or modify it 
   under the terms of the GNU General Public License, Version 3, as 
   published by the Free Software Foundation.
   
    This program is distributed in the hope that it will be useful, but 
   WITHOUT ANY WARRANTY; without even the implied warranty of 
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. 
   See the GNU General Public License for more details.
    
   You should have received a copy of the GNU General Public License
   along with this program; if not, see <http://www.gnu.org/licenses>
-->
<!DOCTYPE knimeNode PUBLIC "-//UNIKN//DTD KNIME Node 2.0//EN" "http://www.knime.org/Node.dtd">
<knimeNode icon="./pdb.ico" type="Manipulator">
	<name>PDB Connector Custom Report</name>

	<shortDescription>
		Source node to connect to RCSB PDB RESTful Web Services for advanced search
		and custom reporting.
	</shortDescription>

	<fullDescription>
		<intro>
			<p>
				The
				<i>PDB Connector Custom Report</i>
				node provides connections to the RESTful Web Service for
				retrieval of information from the Protein Data Bank at http://www.rcsb.org/pdb/rest/customReport
			</p>
			
			<p>The node provides options to use either POST or GET report
				webservice variants. The POST option is newer, and should be used
				unless machine memory is an issue
				(The node will download the entire report to memory). The GET service
				requires multiple requests of the webservice, and URL length limits
				the number of hits which
				can be processed in each call, and the number of available report
				fields. Lower values for the maximum URL length (2000-8000) will
				result in more calls, and fewer
				fields being available, but is more reliable when running through a proxy
				server. Higher values should be used where possible. Multiple calls
				to the GET service
				are likely to be intercepted by the PDB server "Robot Blocker", adding
				further time to the query. The GET service should be avoided
				wherever possible. The node will
				make a number of retries at increasing delay intervals (0, 1, 5, 10, 30,
				60, 300, 600 seconds) to download each block of report
				data during the second part of the execution (There is an additional
				delay, defaulting to 1 second, on each attempt, which can be
				adjusted by
				adding the line -Dknime.url.timeout= followed by a value in milliseconds -
				e.g. 5000 for 5 seconds to the knime.ini file).
			</p>
			<p>
				The new
				<i>PDB Connector Custom Report</i>
				node was developed by
				<a href="http://www.vernalis.com/">Vernalis (Cambridge, UK)</a>
				, based on the original
				<i>PDB Connector</i>
				node developed by
				<a href="http://www.enspiral-discovery.com/">Enspiral Discovery</a>
				in collaboration with
				<a href="http://www.vernalis.com/">Vernalis (Cambridge, UK)</a>
				.
				For feedback and more information, please contact
				<a href="mailto:knime@vernalis.com">knime@vernalis.com</a>
			</p>
		</intro>

		<tab name="Query Options">
			<option name="Ligand Image Size">Select the ligand image size to use in the
				generation of ligand image URLs
				(applies to Ligand Image field only).
			</option>
			<option name="Use POST Query method (Faster)">Select the POST or GET service. GET is older, but
				may limit number of report fields which can
				be returned, and is slower.
			</option>
			<option name="Max. Report request size">If using the GET option, the maximum URL length
				can be set between 2000 and 8000. Higher values
				allow more fields to be returned, and result in fewer calls to the
				webservice, but may fall foul of proxy servers. For POST request,
				longer requests can be sent, but may exceed an internal limit on the
				remote server or use too much memory
			</option>
		</tab>

		<tab name="Report Options">

			<option name="Select report">Use the dropdown menu to select from a number of
				predefined standard reports. Select
				'Customizable Table' to allow fine-grained selection of all custom report fields,
				using the individual and group field selectors.
			</option>
			<option name="Select All">Initialise a Customizable Table with all report
				fields.</option>
			<option name="Clear All">Initialise a Customizable Table with no report
				fields.</option>
		</tab>


	</fullDescription>

	<ports>
		<inPort name="PDB IDs Table" index="0">Incoming table containing a column of PDB structure IDs</inPort>
		<outPort index="0" name="Custom report table">Custom report fields.</outPort>
	</ports>
</knimeNode>
